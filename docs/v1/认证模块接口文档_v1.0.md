[认证服务] - [1.0]

最后更新：2025-7-12

协议类型：gRPC

序列化协议：Protobuf

负责人：123508

#### 认证服务表结构

1. 权限表（permissions）

   [permissions.sql](/deploy/sql/auth_svr/permission/v1_permission.sql)

   主要字段及示例:

   | id | code        | name | description | parent_id | type | resource   | method | status |
   |----|-------------|------|-------------|-----------|------|------------|--------|--------|
   | 1  | user:create | 创建用户 | 创建新用户       | NULL      | API  | /user      | 添加     | 1      |
   | 2  | user:delete | 删除用户 | 删除指定用户      | NULL      | API  | /user/{id} | 删除     | 1      |
   | 3  | user:view   | 查看用户 | 查看用户信息      | NULL      | API  | /user/{id} | 查询     | 1      |
   | 4  | user:update | 更新用户 | 更新用户信息      | NULL      | API  | /user/{id} | 更新     | 1      |
   | 5  | user:list   | 列出用户 | 列出所有用户      | NULL      | API  | /user      | 查询     | 1      |

2. 角色表

    [role.sql](/deploy/sql/auth_svr/role/v1_role.sql)

    主要字段及示例:

    | id | code  | name | description | status |
    |----|-------|------|-------------|--------|
    | 1  | admin | 管理员  | 具有所有权限的管理员  | 1      |
    | 2  | user  | 普通用户 | 具有基本权限的用户   | 1      |

3. 用户组表

   [user_group.sql](/deploy/sql/auth_svr/user_group/v1_user_group.sql)

   主要字段及示例:

   | id | name | code   | status | parent_id | path |
   |----|------|--------|--------|-----------|------|
   | 1  | 用户组1 | group1 | 1      | NULL      | 1    |
   | 2  | 用户组2 | group2 | 1      | 1         | 1/2  |

4. 角色-权限表

   [role_permission.sql](/deploy/sql/auth_svr/role_permission/v1_role_permission.sql)

   主要字段及示例:

   | role_id | permission_id | status | operator_id |
   |---------|---------------|--------|-------------|
   | 角色A     | 权限a           | 1      | 操作人A        |
   | 角色A     | 权限b           | 1      | 操作人B        |
   | 角色B     | 权限a           | 1      | 操作人A        |
   | 角色B     | 权限c           | 1      | 操作人B        |

5. 用户-角色表

   [user_role.sql](/deploy/sql/auth_svr/user_role/v1_user_role.sql)

   主要字段及示例:

   | user_id | role_id | status | operator_id |
   |---------|---------|--------|-------------|
   | 用户A     | 角色1     | 1      | 操作人A        |
   | 用户A     | 角色2     | 1      | 操作人B        |
   | 用户B     | 角色1     | 1      | 操作人A        |
   | 用户B     | 角色3     | 1      | 操作人B        |

6. 角色-用户组表

    [role_group.sql](/deploy/sql/auth_svr/role_group/v1_role_group.sql)

    主要字段及示例:

    | role_id | group_id | status | operator_id |
    |---------|----------|--------|-------------|
    | 角色A     | 用户组1     | 1      | 操作人A        |
    | 角色A     | 用户组2     | 1      | 操作人B        |
    | 角色B     | 用户组1     | 1      | 操作人A        |
    | 角色B     | 用户组3     | 1      | 操作人B        |

7. 用户-用户组表

    [user_group_relation.sql](/deploy/sql/auth_svr/user_group_relation/v1_user_group_relation.sql)

    主要字段及示例:

    | user_id | group_id | status | operator_id |
    |---------|----------|--------|-------------|
    | 用户A     | 用户组1     | 1      | 操作人A        |
    | 用户A     | 用户组2     | 1      | 操作人B        |
    | 用户B     | 用户组1     | 1      | 操作人A        |
    | 用户B     | 用户组3     | 1      | 操作人B        |

#### 认证服务方法列表

```protobuf
syntax = "proto3";

import "google/protobuf/timestamp.proto";
import "user/user_v1.0.proto";

service AuthService {
  // ---------- 权限管理 ---------- //
  rpc CreatePermission(CreatePermissionReq) returns (Permission){}                                // 创建权限
  rpc UpdatePermission(UpdatePermissionReq) returns (Permission){}                                // 更新权限
  rpc DeletePermission(DeletePermissionReq) returns (OperationResult){}                           // 删除权限
  rpc GetPermission(GetPermissionReq) returns (Permission){}                                      // 查询权限

  // ---------- 角色管理 ---------- //
  rpc CreateRole(CreateRoleReq) returns (Role){}                                                  // 创建角色
  rpc UpdateRole(UpdateRoleReq) returns (Role){}                                                  // 更新角色
  rpc DeleteRole(DeleteRoleReq) returns (OperationResult){}                                       // 删除角色
  rpc GetRole(GetRoleReq) returns (Role){}                                                        // 查询角色

  // ---------- 角色权限管理 ---------- //
  rpc GrantPermissionToRole(GrantPermissionToRoleReq) returns (OperationResult){}                 // 给角色分配权限
  rpc RevokePermissionFromRole(RevokePermissionFromRoleReq) returns (OperationResult){}           // 移除角色的权限
  rpc GetRolePermissions(GetRolePermissionsReq) returns (GetRolePermissionsResp){}                // 查询角色所有权限

  // ---------- 用户角色管理 ---------- //
  rpc AssignRoleToUser(AssignRoleToUserReq) returns (OperationResult){}                           // 给用户分配角色
  rpc RemoveRoleFromUser(RemoveRoleFromUserReq) returns (OperationResult){}                       // 移除用户的角色
  rpc GetUserRoles(GetUserRolesReq) returns (GetUserRolesResp){}                                  // 查询用户所有角色

  // ---------- 用户组管理 ---------- //
  rpc CreateUserGroup(CreateUserGroupReq) returns (UserGroup){}                                   // 创建用户组
  rpc UpdateUserGroup(UpdateUserGroupReq) returns (UserGroup){}                                   // 更新用户组
  rpc DeleteUserGroup(DeleteUserGroupReq) returns (OperationResult){}                             // 删除用户组
  rpc GetUserGroup(GetUserGroupReq) returns (UserGroup){}                                         // 查询用户组
  rpc GetUserGroupMembers(GetUserGroupMembersReq) returns (GetUserGroupMembersResp){}             // 查询用户组成员
  rpc GetUserGroupPermissions(GetUserGroupPermissionsReq) returns (GetUserGroupPermissionsResp){} // 查询用户组权限

  // ---------- 用户组成员管理 ---------- //
  rpc AssignUserToGroup(AssignUserToGroupReq) returns (OperationResult){}                         // 给用户分配用户组
  rpc RemoveUserFromGroup(RemoveUserFromGroupReq) returns (OperationResult){}                     // 移除用户的用户组
  rpc GetUserGroups(GetUserGroupsReq) returns (GetUserGroupsResp){}                               // 查询用户所有用户组

  // ---------- 权限验证 ---------- //
  rpc GetUserPermissions(GetUserPermissionsReq) returns(GetUserPermissionsResp){}                 // 查询用户所有权限（含角色、用户组下权限）
  rpc HasPermission(HasPermissionReq) returns (HasPermissionResp){}                               // 判断用户是否拥有某个权限
  rpc CanAccess(CanAccessReq) returns (CanAccessResp){}                                           // 判断用户是否可对某资源执行操作

  // ---------- 查询辅助 ---------- //
  rpc ListRoles(ListRolesReq) returns (ListRolesResp){}                                           // 查询所有角色
  rpc ListUserGroups(ListUserGroupsReq) returns (ListUserGroupsResp){}                            // 查询所有用户组
  rpc ListPermissions(ListPermissionsReq) returns (ListPermissionsResp){}                         // 查询所有权限
}
```



##### 公共参数部分定义

```protobuf
message OperationResult {
  bool success = 1;                        // 操作是否成功
  string code = 2;                         // 业务状态码
  string message = 3;                      // 用户提示信息
  string request_id = 4;                   // 请求追踪ID
  google.protobuf.Timestamp timestamp = 5; // 服务器时间戳(毫秒)
}

message Role{
  bytes  id=1;                   // uuid主键, 16字节
  string code=2;                 // 角色唯一标识符
  string role_name=3;            // 角色名称
  string description=4;          // 角色详细描述
  bool   status=5;               // 角色是否启用： true=启用, false=禁用
}

message Permission{
  bytes  id=1;                   // uuid主键, 16字节
  string code=2;                 // 权限唯一标识符
  string permission_name=3;      // 权限名称
  string description=4;          // 权限详细描述
  bytes  parent_id=5;            // 父权限ID, 为空时表示顶级权限
  enum Type {
    API = 0;                     // 接口权限
    MENU = 1;                    // 菜单权限
    BUTTON = 2;                  // 按钮权限
    DATA = 3;                    // 数据权限
    FIELD = 4;                   // 字段权限
    MODULE = 5;                  // 模块权限
    FILE = 6;                    // 文件权限
    TASK = 7;                    // 任务权限
  }
  Type type=6;                   // 权限类型
  string resource=7;             // 权限对应资源
  string method=8;               // 权限对应方法
  bool   status=9;               // 权限是否启用： true=启用, false=禁用
}

message UserGroup {
  bytes  id=1;                   // uuid主键, 16字节
  string code=2;                 // 用户组唯一标识符
  string group_name=3;           // 用户组名称
  bool   status=4;               // 用户组是否启用： true=启用, false=禁用
  bytes  parent_id=5;            // 父用户组ID, 为空时表示顶级用户组
}
```



### 一、权限管理模块



##### 1.创建权限

```protobuf
//方法名
rpc CreatePermission(CreatePermissionReq) returns (Permission){}

//请求参数
message CreatePermissionReq{
  string access_token=1;   // 创建者AccessToken
  Permission permission=2; // 权限信息
}

//响应参数
message Permission{
  bytes  id=1;                   // uuid主键, 16字节
  string code=2;                 // 权限唯一标识符
  string permission_name=3;      // 权限名称
  string description=4;          // 权限详细描述
  bytes  parent_id=5;            // 父权限ID, 为空时表示顶级权限
  Type type=6;                   // 权限类型
  string resource=7;             // 权限对应资源
  string method=8;               // 权限对应方法
  bool   status=9;               // 权限是否启用： true=启用, false=禁用
}
```



##### 2.更新权限

```protobuf
//方法名
rpc UpdatePermission(UpdatePermissionReq) returns (Permission){}

//请求参数
message UpdatePermissionReq{
  string access_token=1;   // 更新者AccessToken
  Permission permission=2; // 权限信息
}

//响应参数
message Permission{
  bytes  id=1;                   // uuid主键, 16字节
  string code=2;                 // 权限唯一标识符
  string permission_name=3;      // 权限名称
  string description=4;          // 权限详细描述
  bytes  parent_id=5;            // 父权限ID, 为空时表示顶级权限
  Type type=6;                   // 权限类型
  string resource=7;             // 权限对应资源
  string method=8;               // 权限对应方法
  bool   status=9;               // 权限是否启用： true=启用, false=禁用
}
```



##### 3.删除权限

```protobuf
//方法名
rpc DeletePermission(DeletePermissionReq) returns (OperationResult){}

//请求参数
message DeletePermissionReq{
  string access_token=1;   // 删除者AccessToken
  bytes permission_id=2;   // 权限ID(16字节UUID)
}

//响应参数
message OperationResult {
  bool success = 1;                        // 操作是否成功
  string code = 2;                         // 业务状态码
  string message = 3;                      // 用户提示信息
  string request_id = 4;                   // 请求追踪ID
  google.protobuf.Timestamp timestamp = 5; // 服务器时间戳(毫秒)
}
```



##### 4.查询权限

```protobuf
//方法名
rpc GetPermission(GetPermissionReq) returns (Permission){}

//请求参数
message GetPermissionReq{
  string access_token=1;   // 查询者AccessToken
  bytes permission_id=2;   // 权限ID(16字节UUID)
}

//响应参数
message Permission{
  bytes  id=1;                   // uuid主键, 16字节
  string code=2;                 // 权限唯一标识符
  string permission_name=3;      // 权限名称
  string description=4;          // 权限详细描述
  bytes  parent_id=5;            // 父权限ID, 为空时表示顶级权限
  Type type=6;                   // 权限类型
  string resource=7;             // 权限对应资源
  string method=8;               // 权限对应方法
  bool   status=9;               // 权限是否启用： true=启用, false=禁用
}
```



### 二、角色管理模块



##### 5.创建角色

```protobuf
//方法名
rpc CreateRole(CreateRoleReq) returns (Role){}

//请求参数
message CreateRoleReq{
  string access_token=1;    // 创建者AccessToken
  Role role=2;              // 角色信息
}

//响应参数
message Role{
  bytes  id=1;                   // uuid主键, 16字节
  string code=2;                 // 角色唯一标识符
  string role_name=3;            // 角色名称
  string description=4;          // 角色详细描述
  bool   status=5;               // 角色是否启用： true=启用, false=禁用
}
```



##### 6.更新角色

```protobuf
//方法名
rpc UpdateRole(UpdateRoleReq) returns (Role){}

//请求参数
message UpdateRoleReq{
  string access_token=1;    // 更新者AccessToken
  Role role=2;              // 角色信息
}

//响应参数
message Role{
  bytes  id=1;                   // uuid主键, 16字节
  string code=2;                 // 角色唯一标识符
  string role_name=3;            // 角色名称
  string description=4;          // 角色详细描述
  bool   status=5;               // 角色是否启用： true=启用, false=禁用
}
```



##### 7.删除角色

```protobuf
//方法名
rpc DeleteRole(DeleteRoleReq) returns (OperationResult){}

//请求参数
message DeleteRoleReq{
  string access_token=1;    // 删除者AccessToken
  bytes role_id=2;          // 角色ID(16字节UUID)
}

//响应参数
message OperationResult {
  bool success = 1;                        // 操作是否成功
  string code = 2;                         // 业务状态码
  string message = 3;                      // 用户提示信息
  string request_id = 4;                   // 请求追踪ID
  google.protobuf.Timestamp timestamp = 5; // 服务器时间戳(毫秒)
}
```



##### 8.查询角色

```protobuf
//方法名
rpc GetRole(GetRoleReq) returns (Role){}

//请求参数
message GetRoleReq{
  string access_token=1;    // 查询者AccessToken
  bytes role_id=2;          // 角色ID(16字节UUID)
}

//响应参数
message Role{
  bytes  id=1;                   // uuid主键, 16字节
  string code=2;                 // 角色唯一标识符
  string role_name=3;            // 角色名称
  string description=4;          // 角色详细描述
  bool   status=5;               // 角色是否启用： true=启用, false=禁用
}
```



### 三、角色权限管理模块



##### 9.给角色分配权限

```protobuf
//方法名
rpc GrantPermissionToRole(GrantPermissionToRoleReq) returns (OperationResult){}

//请求参数
message GrantPermissionToRoleReq{
  string access_token=1;       // 操作者AccessToken
  string role_code=2;          // 角色唯一标识符
  string permission_code=3;    // 权限唯一标识符
}

//响应参数
message OperationResult {
  bool success = 1;                        // 操作是否成功
  string code = 2;                         // 业务状态码
  string message = 3;                      // 用户提示信息
  string request_id = 4;                   // 请求追踪ID
  google.protobuf.Timestamp timestamp = 5; // 服务器时间戳(毫秒)
}
```



##### 10.移除角色的权限

```protobuf
//方法名
rpc RevokePermissionFromRole(RevokePermissionFromRoleReq) returns (OperationResult){}

//请求参数
message RevokePermissionFromRoleReq{
  string access_token=1;       // 操作者AccessToken
  string role_code=2;          // 角色唯一标识符
  string permission_code=3;    // 权限唯一标识符
}

//响应参数
message OperationResult {
  bool success = 1;                        // 操作是否成功
  string code = 2;                         // 业务状态码
  string message = 3;                      // 用户提示信息
  string request_id = 4;                   // 请求追踪ID
  google.protobuf.Timestamp timestamp = 5; // 服务器时间戳(毫秒)
}
```



##### 11.查询角色所有权限

```protobuf
//方法名
rpc GetRolePermissions(GetRolePermissionsReq) returns (GetRolePermissionsResp){}

//请求参数
message GetRolePermissionsReq{
  string access_token=1;       // 查询者AccessToken
  string role_code=2;          // 角色唯一标识符
}

//响应参数
message GetRolePermissionsResp{
  repeated Permission permissions=1; // 角色权限列表
}
```



### 四、用户角色管理模块



##### 12.给用户分配角色

```protobuf
//方法名
rpc AssignRoleToUser(AssignRoleToUserReq) returns (OperationResult){}

//请求参数
message AssignRoleToUserReq{
  string access_token=1;        // 操作者AccessToken
  string target_user_name=2;    // 目标用户名
  string role_code=3;           // 角色唯一标识符
}

//响应参数
message OperationResult {
  bool success = 1;                        // 操作是否成功
  string code = 2;                         // 业务状态码
  string message = 3;                      // 用户提示信息
  string request_id = 4;                   // 请求追踪ID
  google.protobuf.Timestamp timestamp = 5; // 服务器时间戳(毫秒)
}
```



##### 13.移除用户的角色

```protobuf
//方法名
rpc RemoveRoleFromUser(RemoveRoleFromUserReq) returns (OperationResult){}

//请求参数
message RemoveRoleFromUserReq{
  string access_token=1;        // 操作者AccessToken
  string target_user_name=2;    // 目标用户名
  string role_code=3;           // 角色唯一标识符
}

//响应参数
message OperationResult {
  bool success = 1;                        // 操作是否成功
  string code = 2;                         // 业务状态码
  string message = 3;                      // 用户提示信息
  string request_id = 4;                   // 请求追踪ID
  google.protobuf.Timestamp timestamp = 5; // 服务器时间戳(毫秒)
}
```



##### 14.查询用户所有角色

```protobuf
//方法名
rpc GetUserRoles(GetUserRolesReq) returns (GetUserRolesResp){}

//请求参数
message GetUserRolesReq{
  string access_token=1;        // 查询者AccessToken
  string target_user_name=2;    // 目标用户名
}

//响应参数
message GetUserRolesResp{
  repeated Role roles=1; // 用户角色列表
}
```



### 五、用户组管理模块



##### 15.创建用户组

```protobuf
//方法名
rpc CreateUserGroup(CreateUserGroupReq) returns (UserGroup){}

//请求参数
message CreateUserGroupReq{
  string access_token=1;    // 创建者AccessToken
  UserGroup user_group=2;   // 用户组信息
}

//响应参数
message UserGroup {
  bytes  id=1;                   // uuid主键, 16字节
  string code=2;                 // 用户组唯一标识符
  string group_name=3;           // 用户组名称
  bool   status=4;               // 用户组是否启用： true=启用, false=禁用
  bytes  parent_id=5;            // 父用户组ID, 为空时表示顶级用户组
}
```



##### 16.更新用户组

```protobuf
//方法名
rpc UpdateUserGroup(UpdateUserGroupReq) returns (UserGroup){}

//请求参数
message UpdateUserGroupReq{
  string access_token=1;    // 更新者AccessToken
  UserGroup user_group=2;   // 用户组信息
}

//响应参数
message UserGroup {
  bytes  id=1;                   // uuid主键, 16字节
  string code=2;                 // 用户组唯一标识符
  string group_name=3;           // 用户组名称
  bool   status=4;               // 用户组是否启用： true=启用, false=禁用
  bytes  parent_id=5;            // 父用户组ID, 为空时表示顶级用户组
}
```



##### 17.删除用户组

```protobuf
//方法名
rpc DeleteUserGroup(DeleteUserGroupReq) returns (OperationResult){}

//请求参数
message DeleteUserGroupReq{
  string access_token=1;       // 删除者AccessToken
  string user_group_name=2;    // 用户组名称
}

//响应参数
message OperationResult {
  bool success = 1;                        // 操作是否成功
  string code = 2;                         // 业务状态码
  string message = 3;                      // 用户提示信息
  string request_id = 4;                   // 请求追踪ID
  google.protobuf.Timestamp timestamp = 5; // 服务器时间戳(毫秒)
}
```



##### 18.查询用户组

```protobuf
//方法名
rpc GetUserGroup(GetUserGroupReq) returns (UserGroup){}

//请求参数
message GetUserGroupReq{
  string access_token=1;       // 查询者AccessToken
  string user_group_name=2;    // 用户组名称
}

//响应参数
message UserGroup {
  bytes  id=1;                   // uuid主键, 16字节
  string code=2;                 // 用户组唯一标识符
  string group_name=3;           // 用户组名称
  bool   status=4;               // 用户组是否启用： true=启用, false=禁用
  bytes  parent_id=5;            // 父用户组ID, 为空时表示顶级用户组
}
```



##### 19.查询用户组成员

```protobuf
//方法名
rpc GetUserGroupMembers(GetUserGroupMembersReq) returns (GetUserGroupMembersResp){}

//请求参数
message GetUserGroupMembersReq{
  string access_token=1;       // 查询者AccessToken
  string user_group_name=2;    // 用户组名称
}

//响应参数
message GetUserGroupMembersResp{
  repeated user.UserInfo users=1; // 用户组成员列表
}
```



##### 20.查询用户组权限

```protobuf
//方法名
rpc GetUserGroupPermissions(GetUserGroupPermissionsReq) returns (GetUserGroupPermissionsResp){}

//请求参数
message GetUserGroupPermissionsReq{
  string access_token=1;       // 查询者AccessToken
  string user_group_name=2;    // 用户组名称
}

//响应参数
message GetUserGroupPermissionsResp{
  repeated Permission permissions=1; // 用户组权限列表
}
```



### 六、用户组成员管理模块



##### 21.给用户分配用户组

```protobuf
//方法名
rpc AssignUserToGroup(AssignUserToGroupReq) returns (OperationResult){}

//请求参数
message AssignUserToGroupReq{
  string access_token=1;        // 操作者AccessToken
  string target_user_name=2;    // 目标用户名
  string user_group_name=3;     // 用户组名称
}

//响应参数
message OperationResult {
  bool success = 1;                        // 操作是否成功
  string code = 2;                         // 业务状态码
  string message = 3;                      // 用户提示信息
  string request_id = 4;                   // 请求追踪ID
  google.protobuf.Timestamp timestamp = 5; // 服务器时间戳(毫秒)
}
```



##### 22.移除用户的用户组

```protobuf
//方法名
rpc RemoveUserFromGroup(RemoveUserFromGroupReq) returns (OperationResult){}

//请求参数
message RemoveUserFromGroupReq{
  string access_token=1;        // 操作者AccessToken
  string target_user_name=2;    // 目标用户名
  string user_group_name=3;     // 用户组名称
}

//响应参数
message OperationResult {
  bool success = 1;                        // 操作是否成功
  string code = 2;                         // 业务状态码
  string message = 3;                      // 用户提示信息
  string request_id = 4;                   // 请求追踪ID
  google.protobuf.Timestamp timestamp = 5; // 服务器时间戳(毫秒)
}
```



##### 23.查询用户所有用户组

```protobuf
//方法名
rpc GetUserGroups(GetUserGroupsReq) returns (GetUserGroupsResp){}

//请求参数
message GetUserGroupsReq{
  string access_token=1;        // 查询者AccessToken
  string target_user_name=2;    // 目标用户名
}

//响应参数
message GetUserGroupsResp{
  repeated UserGroup user_groups=1; // 用户组列表
}
```



### 七、权限验证模块



##### 24.查询用户所有权限

```protobuf
//方法名
rpc GetUserPermissions(GetUserPermissionsReq) returns(GetUserPermissionsResp){}

//请求参数
message GetUserPermissionsReq{
  string access_token=1;        // 查询者AccessToken
  string target_user_name=2;    // 目标用户名
}

//响应参数
message GetUserPermissionsResp{
  repeated Permission permissions=1; // 用户所有权限列表（含角色、用户组下权限）
}
```



##### 25.判断用户是否拥有某个权限

```protobuf
//方法名
rpc HasPermission(HasPermissionReq) returns (HasPermissionResp){}

//请求参数
message HasPermissionReq{
  string access_token=1;       // 查询者AccessToken
  string target_user_name=2;   // 目标用户名
  string permission_code=3;    // 权限唯一标识符
}

//响应参数
message HasPermissionResp{
  bool ok=1; // 是否拥有权限
}
```



##### 26.判断用户是否可对某资源执行操作

```protobuf
//方法名
rpc CanAccess(CanAccessReq) returns (CanAccessResp){}

//请求参数
message CanAccessReq{
  string access_token=1;      // 查询者AccessToken
  string target_user_name=2;  // 目标用户名
  string resource=3;          // 资源标识符
  string method=4;            // 操作方法
}

//响应参数
message CanAccessResp{
  bool ok=1; // 是否可以访问
}
```



### 八、查询辅助模块



##### 27.查询所有角色

```protobuf
//方法名
rpc ListRoles(ListRolesReq) returns (ListRolesResp){}

//请求参数
message ListRolesReq{
  string access_token=1; // 查询者AccessToken
  uint32 page=2;         // 页码
  uint32 pageSize=3;     // 每页大小
}

//响应参数
message ListRolesResp{
  repeated Role roles=1; // 角色列表
}
```



##### 28.查询所有用户组

```protobuf
//方法名
rpc ListUserGroups(ListUserGroupsReq) returns (ListUserGroupsResp){}

//请求参数
message ListUserGroupsReq{
  string access_token=1; // 查询者AccessToken
  uint32 page=2;         // 页码
  uint32 pageSize=3;     // 每页大小
}

//响应参数
message ListUserGroupsResp{
  repeated UserGroup user_groups=1; // 用户组列表
}
```



##### 29.查询所有权限

```protobuf
//方法名
rpc ListPermissions(ListPermissionsReq) returns (ListPermissionsResp){}

//请求参数
message ListPermissionsReq{
  string access_token=1; // 查询者AccessToken
  uint32 page=2;         // 页码
  uint32 pageSize=3;     // 每页大小
}

//响应参数
message ListPermissionsResp{
  repeated Permission perms=1; // 权限列表
}
```

